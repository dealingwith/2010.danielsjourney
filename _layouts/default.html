<!DOCTYPE HTML>
<head>
  <title>danielsjourney</title>
  <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.3.1/build/reset/reset-min.css" />
  <link href='http://fonts.googleapis.com/css?family=Cardo' rel='stylesheet' type='text/css'>
  <link rel="shortcut icon" href="/brokeheart.ico"/>
  <link rel="stylesheet" href="/style.css" type="text/css" media="screen" title="no title" charset="utf-8">
  <link href="http://feeds.feedburner.com/danielsjourney" rel="alternate" title="2010.danielsjourney.com" type="application/rss+xml" />
  
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="/audio-player.js" type="text/javascript" charset="utf-8"></script>
  <!--  
  <script src="/autocolumn.min.js" type="text/javascript" charset="utf-8"></script>
  -->
  <script src="/date.js" type="text/javascript" charset="utf-8"></script>
  
  <script type="text/javascript" charset="utf-8">
    $(function(){
        $(window).resize(function() {
          resizeHeader();
        });
        
        var $img = $("#content img:first");
        if ($img.attr('src') != undefined) {          
          $('#content_container').prepend('<img src="' + $img.attr('src') + '" class="callout">');
          $title = $img.attr('title');
          $link = $title.match(/http:\/\/[-a-zA-Z0-9@:%_\+.~#?&\/=]+/g);
          $title = $title.replace(/http:\/\/[-a-zA-Z0-9@:%_\+.~#?&\/=]+/g, '');
          $('#content_container .attribute').html($title).attr('href', $link);
          $img.remove();
        } else {
          var $media = $("#content p.media:first");
          if ($media != []) {
            $('#content_container').prepend($media.html());
            $media.remove();
          }
        }
        
        resizeHeader();
        $("body > div").css('visibility', 'visible');
        
        // because jekyll's date formatting no worky for me
        $('.archive_date').each(function(){
          $(this).html(Date.parse(($(this).html())).toString("MMM dd"));
        });
        
        //$('#archives').columnize();
        
        // next/prev b/c jekyll's pagination is dumb
        var here = window.location.pathname;
        if (here.match(/.html/) != null) {
            var prev = $("#archives a[href='"+window.location.pathname+"']").closest("li").next().find("a").attr("href");
            var next = $("#archives a[href='"+window.location.pathname+"']").closest("li").prev().find("a").attr("href");
            if (prev != undefined) $("#prev").attr("href", prev).show();
            if (next != undefined) $("#next").attr("href", next).show();
            //if (next != undefined && prev != undefined) $("#nav_divider").show();
        } else {
            $("#prev").attr("href", $("#archives a:eq(1)").attr("href")).show();
        }
        
    });
    function resizeHeader() {
      $('#head_overlay').css('height', $('header').height());
    }
    AudioPlayer.setup("/player.swf", {  
        width: 290  
    });
  </script>
</head>
<body>
{{ content }}
<div id="nav"><a href="" id="prev">&#x2190; Prev</a> <a href="" id="next">Next &#x2192;</a></div>
<footer>

  <div id="archives">
    <h2>Posts</h2>
    <ul>
      {% for rpost in site.posts %}
      <li><span class="archive_date">{{ rpost.date }}</span> <a href="{{ rpost.url }}">{{ rpost.title }}</a></li>
      {% endfor %}
    </ul>
  </div>

  <div id="colophon">
    <h2>Colophon</h2>
    <p>I am <a href="http://danielsjourney.com">Daniel Miller</a> and I'm writing here about my attempts to deal with the loss of my beautiful, perfect one year old daughter Margot Rose. You can read about that <a href="http://carissabyers.blogspot.com/2010/08/we-love-you-margot-rose.html">here</a>.</p>
    <p>This site runs on <a href="http://jekyllrb.com/">Jekyll</a>, which I still haven't really figured out. Its markup and stylesheets, a cautionary tale about mixing <a href="http://en.wikipedia.org/wiki/Em_(typography)">em</a> and pixel measurements, were written entirely from scratch in <a href="http://macromates.com/">TextMate</a>. Header foreground &amp; footer background is <a href="http://www.colourlovers.com/pattern/1645/Snowy_Flora">Snowy Flora</a>. I have no idea what it might look like in Internet Explorer. If you are using IE, you should switch to <a href="http://www.google.com/chrome/">Google Chrome</a>; you will thank me later.</p>
  </div>
  
  <div style="padding-right:0; width: 310px">
    <h2>The Record</h2>
    <object data="http://bandcamp.com/EmbeddedPlayer/album=3576096955/size=grande3/bgcol=3D3D3D/linkcol=FFC0CB/vis=flowers//" type="text/html" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="300" height="410"><param name="movie" value="http://bandcamp.com/EmbeddedPlayer/album=3576096955/size=grande3/bgcol=3D3D3D/linkcol=FFC0CB/vis=flowers//"></param><param name="quality" value="high"></param><param name="allowNetworking" value="always"></param><param name="wmode" value="transparent"></param><param name="bgcolor" value="#3D3D3D"></param><param name="allowScriptAccess" value="never"></param><embed data="http://bandcamp.com/EmbeddedPlayer/album=3576096955/size=grande3/bgcol=3D3D3D/linkcol=FFC0CB/vis=flowers//" type="text/html" width="300" height="410"></embed></object>
  </div>
  
  <!-- <div class="tags">
      <h2>Tags</h2>
      <p>Tags in Jekyll kind of suck, huh? If anyone wants to help me get something reasonable working with tags in Jekyll, <a href="http://twitter.com/dealingwith">let me know</a>. In the meantime, check out the cool design I made for them:
      <ul>
        <li>Coffee</li><li>Sugar</li><li>Cream</li>
        {% for category in page.categories %}
          <li>{{ category }}</li>
        {% endfor %}
      </ul>
    </div> -->
</footer>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-516566-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
</body>
</html>
