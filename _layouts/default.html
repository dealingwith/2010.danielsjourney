<!DOCTYPE HTML>
<head>
  <title>danielsjourney</title>
  <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.3.1/build/reset/reset-min.css" />
  <link href='http://fonts.googleapis.com/css?family=Cardo' rel='stylesheet' type='text/css'>
  <link rel="shortcut icon" href="/brokeheart.ico"/>
  <link rel="stylesheet" href="/style.css" type="text/css" media="screen" title="no title" charset="utf-8">
  <link href="http://feeds.feedburner.com/danielsjourney" rel="alternate" title="2010.danielsjourney.com" type="application/rss+xml" />
  
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="/audio-player.js" type="text/javascript" charset="utf-8"></script>
  <script src="/date.js" type="text/javascript" charset="utf-8"></script>
  <script src="/jquery.fancyletter.min.js" type="text/javascript" charset="utf-8"></script>
  
  <script type="text/javascript" charset="utf-8">
    var djdc = {};
    $(function(){
        $(window).resize(function() {
          resizeHeader();
        });
        
        var $img = $("#content img:first");
        if ($img.attr('src') != undefined) {          
          $('#content_container').prepend('<img src="' + $img.attr('src') + '" class="callout">');
          $title = $img.attr('title');
          $link = $title.match(/http:\/\/[-a-zA-Z0-9@:%_\+.~#?&\/=]+/g);
          $title = $title.replace(/http:\/\/[-a-zA-Z0-9@:%_\+.~#?&\/=]+/g, '');
          $('#content_container .attribute').html($title).attr('href', $link);
          $img.remove();
        } else {
          var $media = $("#content p.media:first");
          if ($media != []) {
            $('#content_container').prepend($media.html());
            $media.remove();
          }
        }
        
        resizeHeader();
        
        // next/prev b/c jekyll's pagination is dumb
        var here = window.location.pathname;
        if (here.match(/.html/) != null) {
            var prev = $("#archives a[href='"+window.location.pathname+"']").closest("li").next().find("a").attr("href");
            var next = $("#archives a[href='"+window.location.pathname+"']").closest("li").prev().find("a").attr("href");
            if (prev != undefined) $("#prev").attr("href", prev).show();
            if (next != undefined) $("#next").attr("href", next).show();
            //if (next != undefined && prev != undefined) $("#nav_divider").show();
        } else {
            $("#prev").attr("href", $("#archives a:eq(1)").attr("href")).show();
        }
        
        //blockquote style application
        $("blockquote:eq(0)").prepend('<span class="blockquote_quotation">&ldquo;</span>');
        //dropcap style application
        $("#content > p:eq(0)").fancyletter({ commonClass: 'drop_cap' });
        
        // my own little event system, lets javascript inside the post to run only after all the above
        $.each(djdc, function(i, val){
          if (typeof(val) === "function") val.apply(djdc, []);
        });
        
        $("body > div").css('visibility', 'visible');
    });
    function resizeHeader() {
      $('#head_overlay').css('height', $('header').height());
    }
    function isScrolledIntoView(elem) {
        var docViewTop = $(window).scrollTop();
        var docViewBottom = docViewTop + $(window).height();

        var elemTop = $(elem).offset().top;
        var elemBottom = elemTop + $(elem).height();

        return ((elemBottom >= docViewTop) && (elemTop <= docViewBottom)
          && (elemBottom <= docViewBottom) &&  (elemTop >= docViewTop) );
    }
    AudioPlayer.setup("/player.swf", {  
        width: 290  
    });
  </script>
</head>
<body>
{{ content }}
<div id="nav"><a href="" id="prev">&#x2190; Prev</a> <a href="" id="next">Next &#x2192;</a></div>
<footer>

  <div id="archives">
    <h2>Posts</h2>
    <ul>
      {% for post in site.posts %}
      <li><span class="archive_date">{{ post.date | date:"%b %d" }}</span> <a href="{{ post.url }}">{{ post.title }}</a></li>
      {% endfor %}
    </ul>
  </div>

  <div id="colophon">
    <h2>Colophon</h2>
    <p>I am <a href="http://danielsjourney.com">Daniel Miller</a> and I'm writing here about my attempts to deal with the loss of my beautiful, perfect one year old daughter Margot Rose. You can read about that <a href="http://carissabyers.blogspot.com/2010/08/we-love-you-margot-rose.html">here</a>.</p>
    <p>This site runs on <a href="http://jekyllrb.com/">Jekyll</a>, which I still haven't really figured out. Header foreground &amp; footer background is <a href="http://www.colourlovers.com/pattern/1645/Snowy_Flora">Snowy Flora</a>. If you are using IE, you should switch to <a href="http://www.google.com/chrome/">Google Chrome</a>; you will thank me later.</p>
  </div>
  
  <div style="padding-right:0; width: 310px">
    <h2>The Record</h2>
    
    <object data="http://bandcamp.com/EmbeddedPlayer/album=3576096955/size=grande3/bgcol=3D3D3D/linkcol=FFC0CB//" type="text/html" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="300" height="410"><param name="movie" value="http://bandcamp.com/EmbeddedPlayer/album=3576096955/size=grande3/bgcol=3D3D3D/linkcol=FFC0CB//"><param name="quality" value="high"><param name="allowNetworking" value="always"><param name="wmode" value="transparent"><param name="bgcolor" value="#3D3D3D"><param name="allowScriptAccess" value="never"><object data="http://bandcamp.com/EmbeddedPlayer/album=3576096955/size=grande3/bgcol=3D3D3D/linkcol=FFC0CB//" type="text/html" width="300" height="410"></object></object>
    
  </div>
  
  <!-- <div class="tags">
      <h2>Tags</h2>
      <p>Tags in Jekyll kind of suck, huh? If anyone wants to help me get something reasonable working with tags in Jekyll, <a href="http://twitter.com/dealingwith">let me know</a>. In the meantime, check out the cool design I made for them:
      <ul>
        <li>Coffee</li><li>Sugar</li><li>Cream</li>
        {% for category in page.categories %}
          <li>{{ category }}</li>
        {% endfor %}
      </ul>
    </div> -->
</footer>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-516566-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
</body>
</html>
